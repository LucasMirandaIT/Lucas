<div class="white-background">
  <p class="title">{{channelTitle}} - Gerenciamento dos Módulos</p>


  <div class="row center">
    <br>
    <br>
    <div class="col s8 table-scroll-turn z-depth-2" style="margin-top: 7px; width: 65%">
      <table class="bordered">
        <thead>
          <tr>
            <th class="center td2">Módulo</th>
            <th class="center td2">Estado Atual</th>
            <th class="center td2">URL</th>
            <th class="center td2">Usuários Ativos</th>
            <th class="center td1">Em Atendimento</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let module of modules; let i = index" (click)="switchModule(i)">
            <td class="center td2">
              <a>{{module.nome}}</a>
            </td>
            <td class="center td2">
              <a>{{module.estado}}</a>
            </td>
            <td class="center td2">{{module.url}}</td>
            <td class="center td2">1.000.000</td>
            <td class="center td1">{{module.use}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col s4">
      <div class="card z-depth-2">
        <div class="card-image waves-effect waves-block waves-light server-img valign-wrapper ">
          <img class="center-align" [src]="imgServer">
        </div>
        <div class="card-content">
          <span class="card-title activator grey-text text-darken-4">{{activeModules.nome}}
            <i class="material-icons right">info</i>
          </span>
          <div class="card-action">

            <!-- Dropdown Trigger -->
            <a class='dropdown-button btn' data-activates='listModules'>Alterar Módulo Para
              <i class="material-icons right">arrow_drop_down</i>
            </a>

            <!-- Dropdown Structure -->
            <ul id='listModules' class='dropdown-content'>
              <li *ngFor="let modulo of modulos; let i = index">
                <a class="modal-trigger" href="#modal1" (click)="openModal(i)">{{modulos[i]}}</a>
              </li>
            </ul>
            <div>
              <br>
              <div class="divider"></div>
              <br>
              <p>Ativar/ Desativar Módulo</p>
              <!-- Disabled Switch -->
              <div class="switch">
                <label [ngClass]="{'enabled' : (switchButton && activeModules.estado == 'Oculto'), 'disabled' : (!switchButton && activeModules.estado == 'Oculto') }">
                  Desativar
                  <input type="checkbox" #nome (click)="switchStatus(nome.checked) " *ngIf="activeModules.estado == 'Oculto'">
                  <span class="lever"></span>
                  Ativar
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="card-reveal">
          <span class="card-title grey-text text-darken-4">{{activeModules.nome}}
            <i class="material-icons right">close</i>
          </span>
          <p>{{activeModules.description}}</p>
          <p>URL:
            <a>{{activeModules.url}}</a>
          </p>
        </div>
      </div>
    </div>
  </div>

</div>


<!-- Modal Structure -->
<div id="modal1" class="modal bottom-sheet">
  <div class="modal-content">
    <h4>Confirmação de Alteração do Módulo</h4>
    <h6 style="font-size: 17px">Tem certeza que deseja alterar o estado do módulo
      <b>{{activeModules.nome}}</b> de
      <b>{{activeModules.estado}}</b> para
      <b>{{modulos[selectedDropdown]}}</b>?</h6>
  </div>
  <div class="modal-footer">
    <a class="btn modal-action modal-close waves-effect waves-green btn-flat">Confirmar</a>
    <a class="btn btn-line modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
  </div>
</div>
